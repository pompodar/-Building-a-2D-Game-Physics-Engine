{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback } from 'react';\nimport Vec2 from './Vec2';\nimport Rectangle from './Rectangle';\nimport Circle from './Circle';\nconst KeyHandler = ({\n  allObjectsRef,\n  gObjectNumRef\n}) => {\n  _s();\n  const GRAVITY = new Vec2(0, 10);\n  const handleKeyDown = useCallback(event => {\n    const keycode = event.keyCode || event.which;\n    const allObjects = allObjectsRef.current;\n    const gObjectNum = gObjectNumRef.current;\n    if (keycode === 70) {\n      // F\n      const r1 = new Rectangle(new Vec2(allObjects[gObjectNum].mCenter.x + 200, allObjects[gObjectNum].mCenter.y + 20), Math.random() * 30 + 10, Math.random() * 30 + 10, 1000, 100, 1, 1);\n      const r5 = new Rectangle(new Vec2(500, 200), 400, 20, 100, 1, 1);\n      r5.rotate(2.8);\n      const r6 = new Rectangle(new Vec2(200, 400), 1920, 20, 100000, 1, 1, 0);\n      allObjectsRef.current = [...allObjects, r1, r5, r6];\n    }\n    if (keycode === 71) {\n      // G\n      let r1 = new Circle(new Vec2(allObjects[gObjectNum].mCenter.x, allObjects[gObjectNum].mCenter.y), Math.random() * 10 + 20);\n      allObjectsRef.current = [...allObjects, r1];\n    }\n    if (keycode >= 48 && keycode <= 57) {\n      // Number keys\n      const index = keycode - 48;\n      if (index < allObjects.length) {\n        gObjectNumRef.current = index;\n      }\n    }\n    if (keycode === 38) {\n      // Up arrow\n      if (gObjectNumRef.current > 0) {\n        gObjectNumRef.current--;\n      }\n    }\n    if (keycode === 40) {\n      // Down arrow\n      if (gObjectNumRef.current < allObjects.length - 1) {\n        gObjectNumRef.current++;\n      }\n    }\n\n    // Move with WASD keys\n    if (keycode === 87) {\n      // W\n      allObjects[gObjectNum].move(new Vec2(0, -10));\n    }\n    if (keycode === 83) {\n      // S\n      allObjects[gObjectNum].move(GRAVITY);\n    }\n    if (keycode === 65) {\n      // A\n      allObjects[gObjectNum].move(new Vec2(-10, 0));\n    }\n    if (keycode === 68) {\n      // D\n      allObjects[gObjectNum].move(new Vec2(10, 0));\n    }\n\n    // Rotate with QE keys\n    if (keycode === 81) {\n      // Q\n      allObjects[gObjectNum].rotate(-0.1);\n    }\n    if (keycode === 69) {\n      // E\n      allObjects[gObjectNum].rotate(0.1);\n    }\n\n    // Toggle gravity with the H key\n    if (keycode === 72) {\n      // H\n      const currentObj = allObjects[gObjectNum];\n      currentObj.mFix = currentObj.mFix === 0 ? 1 : 0;\n    }\n\n    // Reset with the R key\n    if (keycode === 82) {\n      // R\n      allObjectsRef.current.splice(1, allObjects.length - 1); // Keep only the first object\n      gObjectNumRef.current = 0;\n    }\n  }, [allObjectsRef, gObjectNumRef]);\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n  return null;\n};\n_s(KeyHandler, \"0JgXOssVubdPSer79HeWAJtecaU=\");\n_c = KeyHandler;\nexport default KeyHandler;\nvar _c;\n$RefreshReg$(_c, \"KeyHandler\");","map":{"version":3,"names":["useEffect","useCallback","Vec2","Rectangle","Circle","KeyHandler","allObjectsRef","gObjectNumRef","_s","GRAVITY","handleKeyDown","event","keycode","keyCode","which","allObjects","current","gObjectNum","r1","mCenter","x","y","Math","random","r5","rotate","r6","index","length","move","currentObj","mFix","splice","window","addEventListener","removeEventListener","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/apps/physics/physics_engine/React/src/KeyHandler.js"],"sourcesContent":["import { useEffect, useCallback } from 'react';\nimport Vec2 from './Vec2';\nimport Rectangle from './Rectangle';\nimport Circle from './Circle';\n\nconst KeyHandler = ({ allObjectsRef, gObjectNumRef }) => {\n  const GRAVITY = new Vec2(0, 10);\n\n  const handleKeyDown = useCallback(\n    (event) => {\n      const keycode = event.keyCode || event.which;\n      const allObjects = allObjectsRef.current;\n      const gObjectNum = gObjectNumRef.current;\n\n      if (keycode === 70) { // F\n        const r1 = new Rectangle(\n          new Vec2(allObjects[gObjectNum].mCenter.x + 200, allObjects[gObjectNum].mCenter.y + 20),\n          Math.random() * 30 + 10,\n          Math.random() * 30 + 10, 1000, 100, 1, 1\n        );\n\n        const r5 = new Rectangle(new Vec2(500, 200), 400, 20, 100, 1, 1);\n        r5.rotate(2.8);\n\n        const r6 = new Rectangle(new Vec2(200, 400), 1920, 20, 100000, 1, 1, 0);\n        allObjectsRef.current = [...allObjects, r1, r5, r6];\n      }\n\n      if (keycode === 71) { // G\n        let r1 = new Circle(\n          new Vec2(allObjects[gObjectNum].mCenter.x, allObjects[gObjectNum].mCenter.y),\n          Math.random() * 10 + 20\n        );\n        allObjectsRef.current = [...allObjects, r1];\n      }\n\n      if (keycode >= 48 && keycode <= 57) { // Number keys\n        const index = keycode - 48;\n        if (index < allObjects.length) {\n          gObjectNumRef.current = index;\n        }\n      }\n\n      if (keycode === 38) { // Up arrow\n        if (gObjectNumRef.current > 0) {\n          gObjectNumRef.current--;\n        }\n      }\n\n      if (keycode === 40) { // Down arrow\n        if (gObjectNumRef.current < allObjects.length - 1) {\n          gObjectNumRef.current++;\n        }\n      }\n\n      // Move with WASD keys\n      if (keycode === 87) { // W\n        allObjects[gObjectNum].move(new Vec2(0, -10));\n      }\n\n      if (keycode === 83) { // S\n        allObjects[gObjectNum].move(GRAVITY);\n      }\n\n      if (keycode === 65) { // A\n        allObjects[gObjectNum].move(new Vec2(-10, 0));\n      }\n\n      if (keycode === 68) { // D\n        allObjects[gObjectNum].move(new Vec2(10, 0));\n      }\n\n      // Rotate with QE keys\n      if (keycode === 81) { // Q\n        allObjects[gObjectNum].rotate(-0.1);\n      }\n\n      if (keycode === 69) { // E\n        allObjects[gObjectNum].rotate(0.1);\n      }\n\n      // Toggle gravity with the H key\n      if (keycode === 72) { // H\n        const currentObj = allObjects[gObjectNum];\n        currentObj.mFix = currentObj.mFix === 0 ? 1 : 0;\n      }\n\n      // Reset with the R key\n      if (keycode === 82) { // R\n        allObjectsRef.current.splice(1, allObjects.length - 1); // Keep only the first object\n        gObjectNumRef.current = 0;\n      }\n    },\n    [allObjectsRef, gObjectNumRef]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  return null;\n};\n\nexport default KeyHandler;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}