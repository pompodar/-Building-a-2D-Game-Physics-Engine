{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/apps/physics/physics_engine/physics-engine/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\n\n// Vec2.js\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Vec2 {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n  add(vec) {\n    return new Vec2(vec.x + this.x, vec.y + this.y);\n  }\n  subtract(vec) {\n    return new Vec2(this.x - vec.x, this.y - vec.y);\n  }\n  scale(n) {\n    return new Vec2(this.x * n, this.y * n);\n  }\n  dot(vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n  cross(vec) {\n    return this.x * vec.y - this.y * vec.x;\n  }\n  rotate(center, angle) {\n    let r = [];\n    let x = this.x - center.x;\n    let y = this.y - center.y;\n    r[0] = x * Math.cos(angle) - y * Math.sin(angle);\n    r[1] = x * Math.sin(angle) + y * Math.cos(angle);\n    r[0] += center.x;\n    r[1] += center.y;\n    return new Vec2(r[0], r[1]);\n  }\n  normalize() {\n    let len = this.length();\n    if (len > 0) {\n      len = 1 / len;\n    }\n    return new Vec2(this.x * len, this.y * len);\n  }\n  distance(vec) {\n    let x = this.x - vec.x;\n    let y = this.y - vec.y;\n    return Math.sqrt(x * x + y * y);\n  }\n}\n\n// RigidShape.js\nclass RigidShape {\n  constructor(center) {\n    this.mCenter = center;\n    this.mAngle = 0;\n  }\n  update() {\n    if (this.mCenter.y < 450 && this.mFix !== 0) {\n      this.move(new Vec2(0, 1));\n      this.rotate(0.1);\n    }\n  }\n}\n\n// Rectangle.js\nclass Rectangle extends RigidShape {\n  constructor(center, width, height, fix) {\n    super(center);\n    this.mType = \"Rectangle\";\n    this.mWidth = width;\n    this.mHeight = height;\n    this.mVertex = [];\n    this.mFaceNormal = [];\n    this.mFix = fix;\n    this.mVertex[0] = new Vec2(center.x - width / 2, center.y - height / 2);\n    this.mVertex[1] = new Vec2(center.x + width / 2, center.y - height / 2);\n    this.mVertex[2] = new Vec2(center.x + width / 2, center.y + height / 2);\n    this.mVertex[3] = new Vec2(center.x - width / 2, center.y + height / 2);\n  }\n  draw(context) {\n    context.save();\n    context.translate(this.mVertex[0].x, this.mVertex[0].y);\n    context.rotate(this.mAngle);\n    context.strokeRect(0, 0, this.mWidth, this.mHeight);\n    context.restore();\n  }\n  move(v) {\n    for (let i = 0; i < this.mVertex.length; i++) {\n      this.mVertex[i] = this.mVertex[i].add(v);\n    }\n    this.mCenter = this.mCenter.add(v);\n    return this;\n  }\n  rotate(angle) {\n    this.mAngle += angle;\n    for (let i = 0; i < this.mVertex.length; i++) {\n      this.mVertex[i] = this.mVertex[i].rotate(this.mCenter, angle);\n    }\n    this.mFaceNormal[0] = this.mVertex[1].subtract(this.mVertex[2]).normalize();\n    this.mFaceNormal[1] = this.mVertex[2].subtract(this.mVertex[3]).normalize();\n    this.mFaceNormal[2] = this.mVertex[3].subtract(this.mVertex[0]).normalize();\n    this.mFaceNormal[3] = this.mVertex[0].subtract(this.mVertex[1]).normalize();\n    return this;\n  }\n}\nconst App = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const allObjectsRef = useRef([]);\n  const gameLoopRef = useRef(null);\n  const updateGameObjects = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = canvas.height;\n    context.clearRect(0, 0, width, height);\n    allObjectsRef.current.forEach(obj => {\n      obj.update();\n      obj.draw(context);\n    });\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const width = 800;\n    const height = 450;\n    canvas.width = width;\n    canvas.height = height;\n    let r1 = new Rectangle(new Vec2(200, 200), 40, 40, false);\n    allObjectsRef.current = [r1];\n    const runGameLoop = () => {\n      updateGameObjects();\n      gameLoopRef.current = requestAnimationFrame(runGameLoop);\n    };\n    runGameLoop();\n    return () => {\n      if (gameLoopRef.current) {\n        cancelAnimationFrame(gameLoopRef.current);\n      }\n    };\n  }, []);\n  const handleKeyDown = useCallback(event => {\n    const keycode = event.keyCode || event.which;\n    const allObjects = allObjectsRef.current;\n    const gObjectNum = gObjectNumRef.current;\n    if (keycode === 70) {\n      // F\n      let r1 = new Rectangle(new Vec2(allObjectsRef.current[0].mCenter.x + 200, allObjectsRef.current[0].mCenter.y + 20), Math.random() * 30 + 10, Math.random() * 30 + 10);\n      allObjectsRef.current = [...allObjectsRef.current, r1];\n    }\n    if (keycode === 70) {\n      // F\n      let r1 = new Rectangle(new Vec2(allObjects[gObjectNum].mCenter.x + 200, allObjects[gObjectNum].mCenter.y + 20), Math.random() * 30 + 10, Math.random() * 30 + 10);\n      allObjectsRef.current = [...allObjects, r1];\n    }\n    if (keycode === 71) {\n      // G\n      let r1 = new Circle(new Vec2(allObjects[gObjectNum].mCenter.x, allObjects[gObjectNum].mCenter.y), Math.random() * 10 + 20);\n      allObjectsRef.current = [...allObjects, r1];\n    }\n    if (keycode >= 48 && keycode <= 57) {\n      // Number keys\n      const index = keycode - 48;\n      if (index < allObjects.length) {\n        gObjectNumRef.current = index;\n      }\n    }\n    if (keycode === 38) {\n      // Up arrow\n      if (gObjectNumRef.current > 0) {\n        gObjectNumRef.current--;\n      }\n    }\n    if (keycode === 40) {\n      // Down arrow\n      if (gObjectNumRef.current < allObjects.length - 1) {\n        gObjectNumRef.current++;\n      }\n    }\n\n    // Move with WASD keys\n    if (keycode === 87) {\n      // W\n      allObjects[gObjectNum].move(new Vec2(0, -10));\n    }\n    if (keycode === 83) {\n      // S\n      allObjects[gObjectNum].move(new Vec2(0, 10));\n    }\n    if (keycode === 65) {\n      // A\n      allObjects[gObjectNum].move(new Vec2(-10, 0));\n    }\n    if (keycode === 68) {\n      // D\n      allObjects[gObjectNum].move(new Vec2(10, 0));\n    }\n\n    // Rotate with QE keys\n    if (keycode === 81) {\n      // Q\n      allObjects[gObjectNum].rotate(-0.1);\n    }\n    if (keycode === 69) {\n      // E\n      allObjects[gObjectNum].rotate(0.1);\n    }\n\n    // Toggle gravity with the H key\n    if (keycode === 72) {\n      // H\n      const currentObj = allObjects[gObjectNum];\n      currentObj.mFix = currentObj.mFix === 0 ? 1 : 0;\n    }\n\n    // Reset with the R key\n    if (keycode === 82) {\n      // R\n      allObjectsRef.current.splice(1, allObjects.length - 1); // Keep only the first object\n      gObjectNumRef.current = 0;\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        border: '1px solid black'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"4oOnsvoMn9lc5UHB3T/b+qPe/CM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","jsxDEV","_jsxDEV","Vec2","constructor","x","y","length","Math","sqrt","add","vec","subtract","scale","n","dot","cross","rotate","center","angle","r","cos","sin","normalize","len","distance","RigidShape","mCenter","mAngle","update","mFix","move","Rectangle","width","height","fix","mType","mWidth","mHeight","mVertex","mFaceNormal","draw","context","save","translate","strokeRect","restore","v","i","App","_s","canvasRef","allObjectsRef","gameLoopRef","updateGameObjects","canvas","current","getContext","clearRect","forEach","obj","r1","runGameLoop","requestAnimationFrame","cancelAnimationFrame","handleKeyDown","event","keycode","keyCode","which","allObjects","gObjectNum","gObjectNumRef","random","Circle","index","currentObj","splice","window","addEventListener","removeEventListener","children","ref","style","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/apps/physics/physics_engine/physics-engine/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\n\n// Vec2.js\nclass Vec2 {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  add(vec) {\n    return new Vec2(vec.x + this.x, vec.y + this.y);\n  }\n\n  subtract(vec) {\n    return new Vec2(this.x - vec.x, this.y - vec.y);\n  }\n\n  scale(n) {\n    return new Vec2(this.x * n, this.y * n);\n  }\n\n  dot(vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n\n  cross(vec) {\n    return this.x * vec.y - this.y * vec.x;\n  }\n\n  rotate(center, angle) {\n    let r = [];\n    let x = this.x - center.x;\n    let y = this.y - center.y;\n    r[0] = x * Math.cos(angle) - y * Math.sin(angle);\n    r[1] = x * Math.sin(angle) + y * Math.cos(angle);\n    r[0] += center.x;\n    r[1] += center.y;\n    return new Vec2(r[0], r[1]);\n  }\n\n  normalize() {\n    let len = this.length();\n    if (len > 0) {\n      len = 1 / len;\n    }\n    return new Vec2(this.x * len, this.y * len);\n  }\n\n  distance(vec) {\n    let x = this.x - vec.x;\n    let y = this.y - vec.y;\n    return Math.sqrt(x * x + y * y);\n  }\n}\n\n// RigidShape.js\nclass RigidShape {\n  constructor(center) {\n    this.mCenter = center;\n    this.mAngle = 0;\n  }\n\n  update() {\n    if (this.mCenter.y < 450 && this.mFix !== 0) {\n      this.move(new Vec2(0, 1));\n      this.rotate(0.1);\n    }\n  }\n}\n\n// Rectangle.js\nclass Rectangle extends RigidShape {\n  constructor(center, width, height, fix) {\n    super(center);\n    this.mType = \"Rectangle\";\n    this.mWidth = width;\n    this.mHeight = height;\n    this.mVertex = [];\n    this.mFaceNormal = [];\n    this.mFix = fix;\n\n    this.mVertex[0] = new Vec2(center.x - width / 2, center.y - height / 2);\n    this.mVertex[1] = new Vec2(center.x + width / 2, center.y - height / 2);\n    this.mVertex[2] = new Vec2(center.x + width / 2, center.y + height / 2);\n    this.mVertex[3] = new Vec2(center.x - width / 2, center.y + height / 2);\n  }\n\n  draw(context) {\n    context.save();\n    context.translate(this.mVertex[0].x, this.mVertex[0].y);\n    context.rotate(this.mAngle);\n    context.strokeRect(0, 0, this.mWidth, this.mHeight);\n    context.restore();\n  }\n\n  move(v) {\n    for (let i = 0; i < this.mVertex.length; i++) {\n      this.mVertex[i] = this.mVertex[i].add(v);\n    }\n    this.mCenter = this.mCenter.add(v);\n    return this;\n  }\n\n  rotate(angle) {\n    this.mAngle += angle;\n    for (let i = 0; i < this.mVertex.length; i++) {\n      this.mVertex[i] = this.mVertex[i].rotate(this.mCenter, angle);\n    }\n    this.mFaceNormal[0] = this.mVertex[1].subtract(this.mVertex[2]).normalize();\n    this.mFaceNormal[1] = this.mVertex[2].subtract(this.mVertex[3]).normalize();\n    this.mFaceNormal[2] = this.mVertex[3].subtract(this.mVertex[0]).normalize();\n    this.mFaceNormal[3] = this.mVertex[0].subtract(this.mVertex[1]).normalize();\n    return this;\n  }\n}\n\nconst App = () => {\n  const canvasRef = useRef(null);\n  const allObjectsRef = useRef([]);\n  const gameLoopRef = useRef(null);\n\n  const updateGameObjects = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = canvas.height;\n\n    context.clearRect(0, 0, width, height);\n\n    allObjectsRef.current.forEach(obj => {\n      obj.update();\n      obj.draw(context);\n    });\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const width = 800;\n    const height = 450;\n    canvas.width = width;\n    canvas.height = height;\n\n    let r1 = new Rectangle(new Vec2(200, 200), 40, 40, false);\n    allObjectsRef.current = [r1];\n\n    const runGameLoop = () => {\n      updateGameObjects();\n      gameLoopRef.current = requestAnimationFrame(runGameLoop);\n    };\n\n    runGameLoop();\n\n    return () => {\n      if (gameLoopRef.current) {\n        cancelAnimationFrame(gameLoopRef.current);\n      }\n    };\n  }, []);\n\n  const handleKeyDown = useCallback((event) => {\n    const keycode = event.keyCode || event.which;\n    const allObjects = allObjectsRef.current;\n    const gObjectNum = gObjectNumRef.current;\n    \n    if (keycode === 70) { // F\n      let r1 = new Rectangle(new Vec2(allObjectsRef.current[0].mCenter.x + 200, allObjectsRef.current[0].mCenter.y + 20), Math.random() * 30 + 10, Math.random() * 30 + 10);\n      allObjectsRef.current = [...allObjectsRef.current, r1];\n    }\n    \n    if (keycode === 70) { // F\n      let r1 = new Rectangle(\n        new Vec2(allObjects[gObjectNum].mCenter.x + 200, allObjects[gObjectNum].mCenter.y + 20),\n        Math.random() * 30 + 10,\n        Math.random() * 30 + 10\n      );\n      allObjectsRef.current = [...allObjects, r1];\n    }\n\n    if (keycode === 71) { // G\n      let r1 = new Circle(\n        new Vec2(allObjects[gObjectNum].mCenter.x, allObjects[gObjectNum].mCenter.y),\n        Math.random() * 10 + 20\n      );\n      allObjectsRef.current = [...allObjects, r1];\n    }\n\n    if (keycode >= 48 && keycode <= 57) { // Number keys\n      const index = keycode - 48;\n      if (index < allObjects.length) {\n        gObjectNumRef.current = index;\n      }\n    }\n\n    if (keycode === 38) { // Up arrow\n      if (gObjectNumRef.current > 0) {\n        gObjectNumRef.current--;\n      }\n    }\n\n    if (keycode === 40) { // Down arrow\n      if (gObjectNumRef.current < allObjects.length - 1) {\n        gObjectNumRef.current++;\n      }\n    }\n\n    // Move with WASD keys\n    if (keycode === 87) { // W\n      allObjects[gObjectNum].move(new Vec2(0, -10));\n    }\n\n    if (keycode === 83) { // S\n      allObjects[gObjectNum].move(new Vec2(0, 10));\n    }\n\n    if (keycode === 65) { // A\n      allObjects[gObjectNum].move(new Vec2(-10, 0));\n    }\n\n    if (keycode === 68) { // D\n      allObjects[gObjectNum].move(new Vec2(10, 0));\n    }\n\n    // Rotate with QE keys\n    if (keycode === 81) { // Q\n      allObjects[gObjectNum].rotate(-0.1);\n    }\n\n    if (keycode === 69) { // E\n      allObjects[gObjectNum].rotate(0.1);\n    }\n\n    // Toggle gravity with the H key\n    if (keycode === 72) { // H\n      const currentObj = allObjects[gObjectNum];\n      currentObj.mFix = currentObj.mFix === 0 ? 1 : 0;\n    }\n\n    // Reset with the R key\n    if (keycode === 82) { // R\n      allObjectsRef.current.splice(1, allObjects.length - 1); // Keep only the first object\n      gObjectNumRef.current = 0;\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  return (\n    <div>\n      <canvas ref={canvasRef} style={{ border: '1px solid black' }}></canvas>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}